<!--
  ~ Copyright (c) 2023.  Marco Sciuto ITA for Innotek. All rights reserved.
  -->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy">
  <title>[[${titoloPagina}]]</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
  <link th:href="@{/css/bootstrap-select.min.css}" rel="stylesheet" />
  <link th:href="@{/font-awesome-5.15.4/css/all.css}" rel="stylesheet" />
  <link th:href="@{/css/style.css}" rel="stylesheet" />
  <link th:href="@{/css/mystyle.css}" rel="stylesheet" />
  <link th:href="@{/css/jquery.dropdown.min.css}" rel="stylesheet" />
  <script type="text/javascript" th:src="@{/js/jquery.min.js}" ></script>
  <script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
  <script type="text/javascript" th:src="@{/js/main.js}"></script>
</head>
<body style="background-color: #14d928">
<div class="wrapper d-flex align-items-stretch">

  <div th:replace="~{sidebar}">  </div>
  <div id="content" class="p-4 p-md-5 pt-5">
    <h1 class="mb-4"><b>[[${titoloPagina}]]</b></h1>
    <form th:action="@{/keypeople/salva}" method="post" th:object="${keyPeople}"
          class="add-data-form">
      <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
      <input type="hidden" th:field="*{id}">
      <div th:if="${message}" class="alert alert-danger text-center" id="success-alert" >
        [[${message}]]
      </div>
      <div class="border border-secondary rounded p-3">
        <div class="form-group row">
          <div class="col">
            <label class="col-form-label">Nome contatto </label>
            <input type="text" th:field="*{nome}" class="form-control" maxlength="90" autocomplete="off" required/>
          </div>
          <div class="col">
            <label class="col-form-label">Azienda </label>
            <select th:field="*{azienda.id}" id="listaAziende" class="form-control select-medium" required>
              <option th:value="null" th:text="---"></option>
              <option th:each="i : ${listaAziende}" th:value="${i.id}" th:text="${i.denominazione}"></option>
            </select>
          </div>
          <div class="col">
            <label class="col-form-label">Email </label>
            <input type="text" th:field="*{email}" class="form-control" maxlength="45" autocomplete="off" required/>
          </div>
        </div>
        <div class="form-group row">
          <div class="col">
            <label class="col-form-label">Cellulare </label>
            <input type="text" th:field="*{cellulare}" class="form-control" maxlength="45" autocomplete="off"/>
          </div>
          <div class="col">
            <label class="col-form-label">Proprietario </label>
            <select th:field="*{owner.id}" id="listaOwner" class="form-control select-medium" required>
              <option th:value="null" th:text="---"></option>
              <option th:each="i : ${listOwner}" th:value="${i.id}" th:text="${i.descrizione}"></option>
            </select>
          </div>
          <div class="col">
            <label class="col-form-label">Status </label>
            <select th:field=*{status} id="status" class="form-control" required>
              <option th:value="null" th:text="---"></option>
              <option value="1" text="Verde">Verde</option>
              <option value="2" text="Giallo">Giallo</option>
              <option value="3" text="rosso">Rosso</option>
            </select>
          </div>
        </div>
        <div class="form-group row">
          <div class="col">
            <label class="col-form-label">Ruolo </label>
            <input type="text" th:field="*{ruolo}" class="form-control" maxlength="90" autocomplete="off" required/>
          </div>
          <div class="col">
            <label class="col-sm-16 col-form-label">Data di Creazione </label>
            <input type="date" th:field="*{dataCreazione}" class="form-control" autocomplete="off" required/>
          </div>
          <div class="col">
            <label class="col-sm-16 col-form-label">Ultima attivit√† </label>
            <input type="date" th:field="*{dataUltimaAttivita}" class="form-control" autocomplete="off"/>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col">
            <label class="col-form-label">Note</label>
            <textarea th:field="*{note}" class="form-control-textarea" maxlength="2000"
                      autocomplete="off"></textarea>
          </div>
        </div>
        <div class="row form-btn-wrapper mt-5">
          <button type="submit" class="col-5 btn btn-lg btn-primary">Salva</button>
          <span class="col-2"></span>
          <button type="button" class="col-5 btn btn-lg btn-secondary" id="bottoneIndietro">Indietro</button>
        </div>
      </div>
    </form>
  </div>
</div>
<script type="text/javascript" th:src="@{/js/pages/keypeople_form.js}"></script>
<script type="text/javascript" th:src="@{/js/pages/history_back.js}"></script>
</body>
</html>