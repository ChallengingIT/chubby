<!--
  ~ Copyright (c) 2023.  Marco Sciuto ITA for Innotek. All rights reserved.
  -->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy">
  <title>[[${titoloPagina}]]</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link th:href="@{/css/bootstrap-5.1.3/bootstrap.min.css}" rel="stylesheet" />
  <link th:href="@{/font-awesome-5.15.4/css/all.css}" rel="stylesheet" />
  <link th:href="@{/css/style.css}" rel="stylesheet" />
  <link th:href="@{/css/mystyle.css}" rel="stylesheet" />
  <script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
  <script type="text/javascript" th:src="@{/js/bootstrap-5.1.3/bootstrap.bundle.js}"></script>
  <script type="text/javascript" th:src="@{/js/bootstrap-select.min.js}"></script>
  <script type="text/javascript" th:src="@{/js/jquery.dropdown.min.js}"></script>
  <script type="text/javascript" th:src="@{/js/main.js}"></script>
</head>
<body style="background-color: #ffb700">
<div class="wrapper d-flex align-items-stretch">
  <div th:replace="~{sidebar}">  </div>

  <div id="content" class="p-4 p-md-5 pt-5">
    <h1 class="mb-4"><b>[[${titoloPagina}]]</b></h1>
    <div th:object="${keypeople}">
      <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
      <input type="hidden" th:field="*{id}">
      <input type="hidden" th:field="*{nome}">
      <input type="hidden" th:field="*{cellulare}">
      <input type="hidden" th:field="*{email}">
      <input type="hidden" th:field="*{azienda}">
      <input type="hidden" th:field="*{attivita}">
      <input type="hidden" th:field="*{owner}">

      <div class="row text-center">
        <div class="col-sm-6">
          <h3 class="text-left pl-4" style="color:gray;">Informazioni KeyPeople</h3>
          <div id="information" class="bg-white" style="border-radius:10px;">
            <div class="row pb-2 pt-2 pl-4"><div class="col-sm-4">Nome:</div><div class="col-sm-8" style="color:black;"><b> [[${keypeople.nome}]]</b></div></div>
            <div class="row pb-2 pl-4"><div class="col-sm-4">Azienda:</div><div class="col-sm-8" style="color:black;"><b> [[${keypeople.azienda.denominazione}]]</b></div></div>
            <div class="row pb-2 pl-4"><div class="col-sm-4">Email:</div><div class="col-sm-8" style="color:black;"><b> [[${keypeople.email}]]</b></div></div>
            <div class="row pb-2 pl-4"><div class="col-sm-4">Cellulare:</div><div class="col-sm-8" style="color:black;"><b> [[${keypeople.cellulare}]]</b></div></div>
            <div class="row pb-2 pl-4"><div class="col-sm-4">Owner:</div><div class="col-sm-8" style="color:black;"><b> [[${keypeople.owner.nome}]] [[${keypeople.owner.cognome}]]</b></div></div>
          </div>
        </div>
        <div class="col-sm-6">
          <h2 class="text-left" style="color:gray;">Attività</h2>
          <div class="row border bg-white overflow-auto" style="border-radius:10px;">
            <span th:if=" ${listaAttivita.isEmpty()}">
              <span class="col-form-label pl-4">Non sono presenti attività</span>
            </span>
            <span th:each="a : ${listaAttivita}">
              <div class="row-form boxShadow">
                <div class="form-row">
                  <div class="col-sm-6 text-left">
                    [[${a.tipologia.descrizione}]] di [[${a.owner.nome}]] [[${a.owner.cognome}]]
                  </div>
                  <div class="col-sm-6 text-center">
                    Orario: [[${a.data}]]
                  </div>
                </div>
                <div class="form-row">
                  <span class="col-form-label" th:text="${a.note}"></span><br>
                </div>
              </div>
            </span>
        </div>
      </div><br>

      <div class="row form-btn-wrapper mt-5 justify-content-center">
        <a th:href="@{/keypeople/ricerca}" class="col-5 btn btn-lg btn-secondary">Indietro</a>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" th:src="@{/js/pages/keypeople_dettaglio.js}"></script>
<script type="text/javascript" th:src="@{/js/pages/history_back.js}"></script>
</body>
</html>